<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Taffy"><title>taffy - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="taffy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0 (1159e78c4 2025-09-14)" data-channel="1.90.0" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-68b7e25d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../taffy/index.html">taffy</a><span class="version">0.9.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#taffy" title="Taffy">Taffy</a><ul><li><a href="#architecture" title="Architecture">Architecture</a></li><li><a href="#high-level-api-vs-low-level-api" title="High-level API vs. Low-level API">High-level API vs. Low-level API</a></li></ul></li></ul><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>taffy</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/taffy/lib.rs.html#1-129">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="taffy"><a class="doc-anchor" href="#taffy">§</a>Taffy</h2>
<p>Taffy is a flexible, high-performance library for <strong>UI layout</strong>.
It currently implements the Flexbox, Grid and Block layout algorithms from the CSS specification. Support for other paradigms is planned.
For more information on this and other future development plans see the <a href="https://github.com/DioxusLabs/taffy/issues/345">roadmap issue</a>.</p>
<h3 id="architecture"><a class="doc-anchor" href="#architecture">§</a>Architecture</h3>
<p>Taffy is based on a tree of “UI nodes” similar to the tree of DOM nodes that one finds in web-based UI. Each node has:</p>
<ul>
<li>A <a href="struct.Style.html" title="struct taffy::Style"><code>Style</code></a> struct which holds a set of CSS styles which function as the primary input to the layout computations.</li>
<li>A <a href="tree/struct.Layout.html" title="struct taffy::tree::Layout"><code>Layout</code></a> struct containing a position (x/y) and a size (width/height) which function as the output of the layout computations.</li>
<li>Optionally:
<ul>
<li>A <code>Vec</code> set of child nodes</li>
<li>“Context”: arbitrary user-defined data (which you can access when using a “measure function” to integrate Taffy with other kinds of layout such as text layout)</li>
</ul>
</li>
</ul>
<p>Usage of Taffy consists of constructing a tree of UI nodes (with associated styles, children and context), then calling function(s)
from Taffy to translate those styles, parent-child relationships and measure functions into a size and position in 2d space for each node
in the tree.</p>
<h3 id="high-level-api-vs-low-level-api"><a class="doc-anchor" href="#high-level-api-vs-low-level-api">§</a>High-level API vs. Low-level API</h3>
<p>Taffy has two APIs: a high-level API that is simpler and easier to get started with, and a low-level API that is more flexible gives greater control.
We would generally recommend the high-level API for users using Taffy standalone and the low-level API for users wanting to embed Taffy as part of
a wider layout system or as part of a UI framework that already has it’s own node/widget tree representation.</p>
<h4 id="high-level-api"><a class="doc-anchor" href="#high-level-api">§</a>High-level API</h4>
<p>The high-level API consists of the <a href="struct.TaffyTree.html" title="struct taffy::TaffyTree"><code>TaffyTree</code></a> struct which contains a tree implementation and provides methods that allow you to construct
a tree of UI nodes. Once constructed, you can call the <a href="struct.TaffyTree.html#method.compute_layout_with_measure" title="method taffy::TaffyTree::compute_layout_with_measure"><code>compute_layout_with_measure</code></a> method to compute the layout (passing in a “measure function” closure which is used to compute the size of leaf nodes), and then access
the layout of each node using the <a href="struct.TaffyTree.html#method.layout" title="method taffy::TaffyTree::layout"><code>layout</code></a> method.</p>
<p>When using the high-level API, Taffy will take care of node storage, caching and dispatching to the correct layout algorithm for a given node for you.
See the <a href="struct.TaffyTree.html" title="struct taffy::TaffyTree"><code>TaffyTree</code></a> struct for more details on this API.</p>
<p>Examples which show usage of the high-level API include:</p>
<ul>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/basic.rs">basic</a></li>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/flexbox_gap.rs">flexbox_gap</a></li>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/grid_holy_grail.rs">grid_holy_grail</a></li>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/measure.rs">measure</a></li>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/cosmic_text.rs">cosmic_text</a></li>
</ul>
<p>In particular, the “measure” example shows how to integrate Taffy layout with other layout modalities such as text or image layout when using the high level API.</p>
<h4 id="low-level-api"><a class="doc-anchor" href="#low-level-api">§</a>Low-level API</h4>
<p>The low-level API consists of a <a href="tree/traits/index.html" title="mod taffy::tree::traits">set of traits</a> (notably the <a href="trait.LayoutPartialTree.html" title="trait taffy::LayoutPartialTree"><code>LayoutPartialTree</code></a> trait) which define an interface behind which you must implement your own
tree implementation, and a <a href="compute/index.html" title="mod taffy::compute">set of functions</a> such as <a href="fn.compute_flexbox_layout.html" title="fn taffy::compute_flexbox_layout"><code>compute_flexbox_layout</code></a> and <a href="fn.compute_grid_layout.html" title="fn taffy::compute_grid_layout"><code>compute_grid_layout</code></a> which implement the layout algorithms (for a single node at a time), and are designed to be flexible
and easy to integrate into a wider layout or UI system.</p>
<p>When using this API, you must handle node storage, caching, and dispatching to the correct layout algorithm for a given node yourself.
See the <a href="tree/traits/index.html" title="mod taffy::tree::traits"><code>crate::tree::traits</code></a> module for more details on this API.</p>
<p>Examples which show usage of the low-level API are:</p>
<ul>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/custom_tree_vec.rs">custom_tree_vec</a> which implements a custom Taffy tree using a <code>Vec</code> as an arena with NodeId’s being index’s into the Vec.</li>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/custom_tree_owned_partial.rs">custom_tree_owned_partial</a> which implements a custom Taffy tree using directly owned children with NodeId’s being index’s into vec on parent node.</li>
<li><a href="https://github.com/DioxusLabs/taffy/blob/main/examples/custom_tree_owned_unsafe.rs">custom_tree_owned_unsafe</a> which implements a custom Taffy tree using directly owned children with NodeId’s being pointers.</li>
</ul>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><dl class="item-table reexports"><dt><code>pub use crate::compute::<a class="mod" href="compute/detailed_info/index.html" title="mod taffy::compute::detailed_info">detailed_info</a>::*;</code></dt><dt><code>pub use crate::<a class="mod" href="geometry/index.html" title="mod taffy::geometry">geometry</a>::*;</code></dt><dt><code>pub use crate::<a class="mod" href="style/index.html" title="mod taffy::style">style</a>::*;</code></dt><dt><code>pub use crate::<a class="mod" href="tree/index.html" title="mod taffy::tree">tree</a>::*;</code></dt><dt><code>pub use crate::<a class="mod" href="util/index.html" title="mod taffy::util">util</a>::*;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="compute/index.html" title="mod taffy::compute">compute</a></dt><dd>Low-level access to the layout algorithms themselves. For a higher-level API, see the <a href="struct.TaffyTree.html" title="struct taffy::TaffyTree"><code>TaffyTree</code></a> struct.</dd><dt><a class="mod" href="geometry/index.html" title="mod taffy::geometry">geometry</a></dt><dd>Geometric primitives useful for layout</dd><dt><a class="mod" href="prelude/index.html" title="mod taffy::prelude">prelude</a></dt><dd>Commonly used types</dd><dt><a class="mod" href="style/index.html" title="mod taffy::style">style</a></dt><dd>A typed representation of <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">CSS style properties</a> in Rust. Used as input to layout computation.</dd><dt><a class="mod" href="style_helpers/index.html" title="mod taffy::style_helpers">style_<wbr>helpers</a></dt><dd>Helper functions which it make it easier to create instances of types in the <code>style</code> and <code>geometry</code> modules.</dd><dt><a class="mod" href="tree/index.html" title="mod taffy::tree">tree</a></dt><dd>Contains both a high-level interface to Taffy using a ready-made node tree, and a set of traits for defining custom node trees.</dd><dt><a class="mod" href="util/index.html" title="mod taffy::util">util</a></dt><dd>Helpful misc. utilities such as a function to debug print a tree</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Style.html" title="struct taffy::Style">Style</a></dt><dd>A typed representation of the CSS style information for a single node.</dd><dt><a class="struct" href="struct.TaffyTree.html" title="struct taffy::TaffyTree">Taffy<wbr>Tree</a></dt><dd>An entire tree of UI nodes. The entry point to Taffy’s high-level API.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.CacheTree.html" title="trait taffy::CacheTree">Cache<wbr>Tree</a></dt><dd>Trait used by the <code>compute_cached_layout</code> method which allows cached layout results to be stored and retrieved.</dd><dt><a class="trait" href="trait.LayoutBlockContainer.html" title="trait taffy::LayoutBlockContainer">Layout<wbr>Block<wbr>Container</a></dt><dd>Extends <a href="trait.LayoutPartialTree.html" title="trait taffy::LayoutPartialTree"><code>LayoutPartialTree</code></a> with getters for the styles required for CSS Block layout</dd><dt><a class="trait" href="trait.LayoutFlexboxContainer.html" title="trait taffy::LayoutFlexboxContainer">Layout<wbr>Flexbox<wbr>Container</a></dt><dd>Extends <a href="trait.LayoutPartialTree.html" title="trait taffy::LayoutPartialTree"><code>LayoutPartialTree</code></a> with getters for the styles required for Flexbox layout</dd><dt><a class="trait" href="trait.LayoutGridContainer.html" title="trait taffy::LayoutGridContainer">Layout<wbr>Grid<wbr>Container</a></dt><dd>Extends <a href="trait.LayoutPartialTree.html" title="trait taffy::LayoutPartialTree"><code>LayoutPartialTree</code></a> with getters for the styles required for CSS Grid layout</dd><dt><a class="trait" href="trait.LayoutPartialTree.html" title="trait taffy::LayoutPartialTree">Layout<wbr>Partial<wbr>Tree</a></dt><dd>Any type that implements <a href="trait.LayoutPartialTree.html" title="trait taffy::LayoutPartialTree"><code>LayoutPartialTree</code></a> can be laid out using <a href="compute/index.html" title="mod taffy::compute">Taffy’s algorithms</a></dd><dt><a class="trait" href="trait.PrintTree.html" title="trait taffy::PrintTree">Print<wbr>Tree</a></dt><dd>Trait used by the <code>print_tree</code> method which prints a debug representation</dd><dt><a class="trait" href="trait.RoundTree.html" title="trait taffy::RoundTree">Round<wbr>Tree</a></dt><dd>Trait used by the <code>round_layout</code> method which takes a tree of unrounded float-valued layouts and performs
rounding to snap the values to the pixel grid.</dd><dt><a class="trait" href="trait.TraversePartialTree.html" title="trait taffy::TraversePartialTree">Traverse<wbr>Partial<wbr>Tree</a></dt><dd>Taffy’s abstraction for downward tree traversal.</dd><dt><a class="trait" href="trait.TraverseTree.html" title="trait taffy::TraverseTree">Traverse<wbr>Tree</a></dt><dd>A marker trait which extends <code>TraversePartialTree</code></dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.compute_block_layout.html" title="fn taffy::compute_block_layout">compute_<wbr>block_<wbr>layout</a></dt><dd>Computes the layout of <a href="trait.LayoutPartialTree.html" title="trait taffy::LayoutPartialTree"><code>LayoutPartialTree</code></a> according to the block layout algorithm</dd><dt><a class="fn" href="fn.compute_cached_layout.html" title="fn taffy::compute_cached_layout">compute_<wbr>cached_<wbr>layout</a></dt><dd>Attempts to find a cached layout for the specified node and layout inputs.</dd><dt><a class="fn" href="fn.compute_flexbox_layout.html" title="fn taffy::compute_flexbox_layout">compute_<wbr>flexbox_<wbr>layout</a></dt><dd>Computes the layout of a box according to the flexbox algorithm</dd><dt><a class="fn" href="fn.compute_grid_layout.html" title="fn taffy::compute_grid_layout">compute_<wbr>grid_<wbr>layout</a></dt><dd>Grid layout algorithm
This consists of a few phases:</dd><dt><a class="fn" href="fn.compute_hidden_layout.html" title="fn taffy::compute_hidden_layout">compute_<wbr>hidden_<wbr>layout</a></dt><dd>Creates a layout for this node and its children, recursively.
Each hidden node has zero size and is placed at the origin</dd><dt><a class="fn" href="fn.compute_leaf_layout.html" title="fn taffy::compute_leaf_layout">compute_<wbr>leaf_<wbr>layout</a></dt><dd>Compute the size of a leaf node (node with no children)</dd><dt><a class="fn" href="fn.compute_root_layout.html" title="fn taffy::compute_root_layout">compute_<wbr>root_<wbr>layout</a></dt><dd>Compute layout for the root node in the tree</dd><dt><a class="fn" href="fn.print_tree.html" title="fn taffy::print_tree">print_<wbr>tree</a></dt><dd>Prints a debug representation of the computed layout for a tree of nodes, starting with the passed root node.</dd><dt><a class="fn" href="fn.round_layout.html" title="fn taffy::round_layout">round_<wbr>layout</a></dt><dd>Rounds the calculated layout to exact pixel values</dd></dl></section></div></main></body></html>