<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="0.30.5"><title>winit::changelog::v0_30 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="winit" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0 (1159e78c4 2025-09-14)" data-channel="1.90.0" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../../../static.files/storage-68b7e25d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../winit/index.html">winit</a><span class="version">0.30.5</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module v0_30</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#0305" title="0.30.5">0.30.5</a><ul><li><a href="#added" title="Added">Added</a></li><li><a href="#fixed" title="Fixed">Fixed</a></li></ul></li><li><a href="#0304" title="0.30.4">0.30.4</a><ul><li><a href="#changed" title="Changed">Changed</a></li><li><a href="#fixed-1" title="Fixed">Fixed</a></li></ul></li><li><a href="#0303" title="0.30.3">0.30.3</a><ul><li><a href="#added-1" title="Added">Added</a></li><li><a href="#changed-1" title="Changed">Changed</a></li><li><a href="#fixed-2" title="Fixed">Fixed</a></li></ul></li><li><a href="#0302" title="0.30.2">0.30.2</a><ul><li><a href="#fixed-3" title="Fixed">Fixed</a></li></ul></li><li><a href="#0301" title="0.30.1">0.30.1</a><ul><li><a href="#added-2" title="Added">Added</a></li><li><a href="#fixed-4" title="Fixed">Fixed</a></li></ul></li><li><a href="#0300" title="0.30.0">0.30.0</a><ul><li><a href="#added-3" title="Added">Added</a></li><li><a href="#changed-2" title="Changed">Changed</a></li><li><a href="#deprecated" title="Deprecated">Deprecated</a></li><li><a href="#removed" title="Removed">Removed</a></li><li><a href="#fixed-5" title="Fixed">Fixed</a></li></ul></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In winit::<wbr>changelog</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">winit</a>::<wbr><a href="../index.html">changelog</a></div><h1>Module <span>v0_30</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/winit/changelog/mod.rs.html#11">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h3 id="0305"><a class="doc-anchor" href="#0305">§</a>0.30.5</h3><h4 id="added"><a class="doc-anchor" href="#added">§</a>Added</h4>
<ul>
<li>Add <code>ActiveEventLoop::system_theme()</code>, returning the current system theme.</li>
<li>On Web, implement <code>Error</code> for <code>platform::web::CustomCursorError</code>.</li>
<li>On Android, add <code>{Active,}EventLoopExtAndroid::android_app()</code> to access the app used to create the loop.</li>
</ul>
<h4 id="fixed"><a class="doc-anchor" href="#fixed">§</a>Fixed</h4>
<ul>
<li>On MacOS, fix building with <code>feature = "rwh_04"</code>.</li>
<li>On Web, pen events are now routed through to <code>WindowEvent::Cursor*</code>.</li>
<li>On macOS, fix panic when releasing not available monitor.</li>
<li>On MacOS, return the system theme in <code>Window::theme()</code> if no theme override is set.</li>
</ul>
<h3 id="0304"><a class="doc-anchor" href="#0304">§</a>0.30.4</h3><h4 id="changed"><a class="doc-anchor" href="#changed">§</a>Changed</h4>
<ul>
<li><code>DeviceId::dummy()</code> and <code>WindowId::dummy()</code> are no longer marked <code>unsafe</code>.</li>
</ul>
<h4 id="fixed-1"><a class="doc-anchor" href="#fixed-1">§</a>Fixed</h4>
<ul>
<li>On Wayland, avoid crashing when compositor is misbehaving.</li>
<li>On Web, fix <code>WindowEvent::Resized</code> not using <code>requestAnimationFrame</code> when sending
<code>WindowEvent::RedrawRequested</code> and also potentially causing <code>WindowEvent::RedrawRequested</code>
to not be de-duplicated.</li>
<li>Account for different browser engine implementations of pointer movement coordinate space.</li>
</ul>
<h3 id="0303"><a class="doc-anchor" href="#0303">§</a>0.30.3</h3><h4 id="added-1"><a class="doc-anchor" href="#added-1">§</a>Added</h4>
<ul>
<li>On Web, add <code>EventLoopExtWebSys::(set_)poll_strategy()</code> to allow setting
control flow strategies before starting the event loop.</li>
<li>On Web, add <code>WaitUntilStrategy</code>, which allows to set different strategies for
<code>ControlFlow::WaitUntil</code>. By default the Prioritized Task Scheduling API is
used, with a fallback to <code>setTimeout()</code> with a trick to circumvent throttling
to 4ms. But an option to use a Web worker to schedule the timer is available
as well, which commonly prevents any throttling when the window is not focused.</li>
</ul>
<h4 id="changed-1"><a class="doc-anchor" href="#changed-1">§</a>Changed</h4>
<ul>
<li>On macOS, set the window theme on the <code>NSWindow</code> instead of application-wide.</li>
</ul>
<h4 id="fixed-2"><a class="doc-anchor" href="#fixed-2">§</a>Fixed</h4>
<ul>
<li>On X11, build on arm platforms.</li>
<li>On macOS, fixed <code>WindowBuilder::with_theme</code> not having any effect on the window.</li>
</ul>
<h3 id="0302"><a class="doc-anchor" href="#0302">§</a>0.30.2</h3><h4 id="fixed-3"><a class="doc-anchor" href="#fixed-3">§</a>Fixed</h4>
<ul>
<li>On Web, fix <code>EventLoopProxy::send_event()</code> triggering event loop immediately
when not called from inside the event loop. Now queues a microtask instead.</li>
<li>On Web, stop overwriting default cursor with <code>CursorIcon::Default</code>.</li>
<li>On Web, prevent crash when using <code>InnerSizeWriter::request_inner_size()</code>.</li>
<li>On macOS, fix not working opacity for entire window.</li>
</ul>
<h3 id="0301"><a class="doc-anchor" href="#0301">§</a>0.30.1</h3><h4 id="added-2"><a class="doc-anchor" href="#added-2">§</a>Added</h4>
<ul>
<li>Reexport <code>raw-window-handle</code> versions 0.4 and 0.5 as <code>raw_window_handle_04</code> and <code>raw_window_handle_05</code>.</li>
<li>Implement <code>ApplicationHandler</code> for <code>&amp;mut</code> references and heap allocations to something that implements <code>ApplicationHandler</code>.</li>
<li>Add traits <code>EventLoopExtWayland</code> and <code>EventLoopExtX11</code>, providing methods <code>is_wayland</code> and <code>is_x11</code> on <code>EventLoop</code>.</li>
</ul>
<h4 id="fixed-4"><a class="doc-anchor" href="#fixed-4">§</a>Fixed</h4>
<ul>
<li>On macOS, fix panic on exit when dropping windows outside the event loop.</li>
<li>On macOS, fix window dragging glitches when dragging across a monitor boundary with different scale factor.</li>
<li>On macOS, fix the range in <code>Ime::Preedit</code>.</li>
<li>On macOS, use the system’s internal mechanisms for queuing events.</li>
<li>On macOS, handle events directly instead of queuing when possible.</li>
</ul>
<h3 id="0300"><a class="doc-anchor" href="#0300">§</a>0.30.0</h3><h4 id="added-3"><a class="doc-anchor" href="#added-3">§</a>Added</h4>
<ul>
<li>Add <code>OwnedDisplayHandle</code> type for allowing safe display handle usage outside of
trivial cases.</li>
<li>Add <code>ApplicationHandler&lt;T&gt;</code> trait which mimics <code>Event&lt;T&gt;</code>.</li>
<li>Add <code>WindowBuilder::with_cursor</code> and <code>Window::set_cursor</code> which takes a
<code>CursorIcon</code> or <code>CustomCursor</code>.</li>
<li>Add <code>Sync</code> implementation for <code>EventLoopProxy&lt;T: Send&gt;</code>.</li>
<li>Add <code>Window::default_attributes</code> to get default <code>WindowAttributes</code>.</li>
<li>Add <code>EventLoop::builder</code> to get <code>EventLoopBuilder</code> without export.</li>
<li>Add <code>CustomCursor::from_rgba</code> to allow creating cursor images from RGBA data.</li>
<li>Add <code>CustomCursorExtWebSys::from_url</code> to allow loading cursor images from URLs.</li>
<li>Add <code>CustomCursorExtWebSys::from_animation</code> to allow creating animated
cursors from other <code>CustomCursor</code>s.</li>
<li>Add <code>{Active,}EventLoop::create_custom_cursor</code> to load custom cursor image sources.</li>
<li>Add <code>ActiveEventLoop::create_window</code> and <code>EventLoop::create_window</code>.</li>
<li>Add <code>CustomCursor</code> which could be set via <code>Window::set_cursor</code>, implemented on
Windows, macOS, X11, Wayland, and Web.</li>
<li>On Web, add to toggle calling <code>Event.preventDefault()</code> on <code>Window</code>.</li>
<li>On iOS, add <code>PinchGesture</code>, <code>DoubleTapGesture</code>, <code>PanGesture</code> and <code>RotationGesture</code>.</li>
<li>on iOS, use <code>UIGestureRecognizerDelegate</code> for fine grained control of gesture recognizers.</li>
<li>On macOS, add services menu.</li>
<li>On Windows, add <code>with_title_text_color</code>, and <code>with_corner_preference</code> on
<code>WindowAttributesExtWindows</code>.</li>
<li>On Windows, implement resize increments.</li>
<li>On Windows, add <code>AnyThread</code> API to access window handle off the main thread.</li>
</ul>
<h4 id="changed-2"><a class="doc-anchor" href="#changed-2">§</a>Changed</h4>
<ul>
<li>Bump MSRV from <code>1.65</code> to <code>1.70</code>.</li>
<li>On Wayland, bump <code>sctk-adwaita</code> to <code>0.9.0</code>, which changed system library
crates. This change is a <strong>cascading breaking change</strong>, you must do breaking
change as well, even if you don’t expose winit.</li>
<li>Rename <code>TouchpadMagnify</code> to <code>PinchGesture</code>.</li>
<li>Rename <code>SmartMagnify</code> to <code>DoubleTapGesture</code>.</li>
<li>Rename <code>TouchpadRotate</code> to <code>RotationGesture</code>.</li>
<li>Rename <code>EventLoopWindowTarget</code> to <code>ActiveEventLoop</code>.</li>
<li>Rename <code>platform::x11::XWindowType</code> to <code>platform::x11::WindowType</code>.</li>
<li>Rename <code>VideoMode</code> to <code>VideoModeHandle</code> to represent that it doesn’t hold
static data.</li>
<li>Make <code>Debug</code> formatting of <code>WindowId</code> more concise.</li>
<li>Move <code>dpi</code> types to its own crate, and re-export it from the root crate.</li>
<li>Replace <code>log</code> with <code>tracing</code>, use <code>log</code> feature on <code>tracing</code> to restore old
behavior.</li>
<li><code>EventLoop::with_user_event</code> now returns <code>EventLoopBuilder</code>.</li>
<li>On Web, return <code>HandleError::Unavailable</code> when a window handle is not available.</li>
<li>On Web, return <code>RawWindowHandle::WebCanvas</code> instead of <code>RawWindowHandle::Web</code>.</li>
<li>On Web, remove queuing fullscreen request in absence of transient activation.</li>
<li>On iOS, return <code>HandleError::Unavailable</code> when a window handle is not available.</li>
<li>On macOS, return <code>HandleError::Unavailable</code> when a window handle is not available.</li>
<li>On Windows, remove <code>WS_CAPTION</code>, <code>WS_BORDER</code>, and <code>WS_EX_WINDOWEDGE</code> styles
for child windows without decorations.</li>
<li>On Android, bump <code>ndk</code> to <code>0.9.0</code> and <code>android-activity</code> to <code>0.6.0</code>,
and remove unused direct dependency on <code>ndk-sys</code>.</li>
</ul>
<h4 id="deprecated"><a class="doc-anchor" href="#deprecated">§</a>Deprecated</h4>
<ul>
<li>
<p>Deprecate <code>EventLoop::run</code>, use <code>EventLoop::run_app</code>.</p>
</li>
<li>
<p>Deprecate <code>EventLoopExtRunOnDemand::run_on_demand</code>, use <code>EventLoop::run_app_on_demand</code>.</p>
</li>
<li>
<p>Deprecate <code>EventLoopExtPumpEvents::pump_events</code>, use <code>EventLoopExtPumpEvents::pump_app_events</code>.</p>
<p>The new <code>app</code> APIs accept a newly added <code>ApplicationHandler&lt;T&gt;</code> instead of
<code>Fn</code>. The semantics are mostly the same, given that the capture list of the
closure is your new <code>State</code>. Consider the following code:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>winit::event::Event;
<span class="kw">use </span>winit::event_loop::EventLoop;
<span class="kw">use </span>winit::window::Window;

<span class="kw">struct </span>MyUserEvent;

<span class="kw">let </span>event_loop = EventLoop::&lt;MyUserEvent&gt;::with_user_event().build().unwrap();
<span class="kw">let </span>window = event_loop.create_window(Window::default_attributes()).unwrap();
<span class="kw">let </span><span class="kw-2">mut </span>counter = <span class="number">0</span>;

<span class="kw">let _ </span>= event_loop.run(<span class="kw">move </span>|event, event_loop| {
    <span class="kw">match </span>event {
        Event::AboutToWait =&gt; {
            window.request_redraw();
            counter += <span class="number">1</span>;
        }
        Event::WindowEvent { window_id, event } =&gt; {
            <span class="comment">// Handle window event.
        </span>}
        Event::UserEvent(event) =&gt; {
            <span class="comment">// Handle user event.
        </span>}
        Event::DeviceEvent { device_id, event } =&gt; {
            <span class="comment">// Handle device event.
        </span>}
        <span class="kw">_ </span>=&gt; (),
    }
});</code></pre></div>
<p>To migrate this code, you should move all the captured values into some
newtype <code>State</code> and implement <code>ApplicationHandler</code> for this type. Finally,
we move particular <code>match event</code> arms into methods on <code>ApplicationHandler</code>,
for example:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>winit::application::ApplicationHandler;
<span class="kw">use </span>winit::event::{Event, WindowEvent, DeviceEvent, DeviceId};
<span class="kw">use </span>winit::event_loop::{EventLoop, ActiveEventLoop};
<span class="kw">use </span>winit::window::{Window, WindowId};

<span class="kw">struct </span>MyUserEvent;

<span class="kw">struct </span>State {
    window: Window,
    counter: i32,
}

<span class="kw">impl </span>ApplicationHandler&lt;MyUserEvent&gt; <span class="kw">for </span>State {
    <span class="kw">fn </span>user_event(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop, user_event: MyUserEvent) {
        <span class="comment">// Handle user event.
    </span>}

    <span class="kw">fn </span>resumed(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop) {
        <span class="comment">// Your application got resumed.
    </span>}

    <span class="kw">fn </span>window_event(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop, window_id: WindowId, event: WindowEvent) {
        <span class="comment">// Handle window event.
    </span>}

    <span class="kw">fn </span>device_event(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop, device_id: DeviceId, event: DeviceEvent) {
        <span class="comment">// Handle device event.
    </span>}

    <span class="kw">fn </span>about_to_wait(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop) {
        <span class="self">self</span>.window.request_redraw();
        <span class="self">self</span>.counter += <span class="number">1</span>;
    }
}

<span class="kw">let </span>event_loop = EventLoop::&lt;MyUserEvent&gt;::with_user_event().build().unwrap();
<span class="attr">#[allow(deprecated)]
</span><span class="kw">let </span>window = event_loop.create_window(Window::default_attributes()).unwrap();
<span class="kw">let </span><span class="kw-2">mut </span>state = State { window, counter: <span class="number">0 </span>};

<span class="kw">let _ </span>= event_loop.run_app(<span class="kw-2">&amp;mut </span>state);</code></pre></div>
<p>Please submit your feedback after migrating in <a href="https://github.com/rust-windowing/winit/issues/3626">this issue</a>.</p>
</li>
<li>
<p>Deprecate <code>Window::set_cursor_icon</code>, use <code>Window::set_cursor</code>.</p>
</li>
</ul>
<h4 id="removed"><a class="doc-anchor" href="#removed">§</a>Removed</h4>
<ul>
<li>
<p>Remove <code>Window::new</code>, use <code>ActiveEventLoop::create_window</code> instead.</p>
<p>You now have to create your windows inside the actively running event loop
(usually the <code>new_events(cause: StartCause::Init)</code> or <code>resumed()</code> events),
and can no longer do it before the application has properly launched.
This change is done to fix many long-standing issues on iOS and macOS, and
will improve things on Wayland once fully implemented.</p>
<p>To ease migration, we provide the deprecated <code>EventLoop::create_window</code> that
will allow you to bypass this restriction in this release.</p>
<p>Using the migration example from above, you can change your code as follows:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>winit::application::ApplicationHandler;
<span class="kw">use </span>winit::event::{Event, WindowEvent, DeviceEvent, DeviceId};
<span class="kw">use </span>winit::event_loop::{EventLoop, ActiveEventLoop};
<span class="kw">use </span>winit::window::{Window, WindowId};

<span class="attr">#[derive(Default)]
</span><span class="kw">struct </span>State {
    <span class="comment">// Use an `Option` to allow the window to not be available until the
    // application is properly running.
    </span>window: <span class="prelude-ty">Option</span>&lt;Window&gt;,
    counter: i32,
}

<span class="kw">impl </span>ApplicationHandler <span class="kw">for </span>State {
    <span class="comment">// This is a common indicator that you can create a window.
    </span><span class="kw">fn </span>resumed(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop) {
        <span class="self">self</span>.window = <span class="prelude-val">Some</span>(event_loop.create_window(Window::default_attributes()).unwrap());
    }
    <span class="kw">fn </span>window_event(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop, window_id: WindowId, event: WindowEvent) {
        <span class="comment">// `unwrap` is fine, the window will always be available when
        // receiving a window event.
        </span><span class="kw">let </span>window = <span class="self">self</span>.window.as_ref().unwrap();
        <span class="comment">// Handle window event.
    </span>}
    <span class="kw">fn </span>device_event(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop, device_id: DeviceId, event: DeviceEvent) {
        <span class="comment">// Handle window event.
    </span>}
    <span class="kw">fn </span>about_to_wait(<span class="kw-2">&amp;mut </span><span class="self">self</span>, event_loop: <span class="kw-2">&amp;</span>ActiveEventLoop) {
        <span class="kw">if let </span><span class="prelude-val">Some</span>(window) = <span class="self">self</span>.window.as_ref() {
            window.request_redraw();
            <span class="self">self</span>.counter += <span class="number">1</span>;
        }
    }
}

<span class="kw">let </span>event_loop = EventLoop::new().unwrap();
<span class="kw">let </span><span class="kw-2">mut </span>state = State::default();
<span class="kw">let _ </span>= event_loop.run_app(<span class="kw-2">&amp;mut </span>state);</code></pre></div>
</li>
<li>
<p>Remove <code>Deref</code> implementation for <code>EventLoop</code> that gave <code>EventLoopWindowTarget</code>.</p>
</li>
<li>
<p>Remove <code>WindowBuilder</code> in favor of <code>WindowAttributes</code>.</p>
</li>
<li>
<p>Remove Generic parameter <code>T</code> from <code>ActiveEventLoop</code>.</p>
</li>
<li>
<p>Remove <code>EventLoopBuilder::with_user_event</code>, use <code>EventLoop::with_user_event</code>.</p>
</li>
<li>
<p>Remove Redundant <code>EventLoopError::AlreadyRunning</code>.</p>
</li>
<li>
<p>Remove <code>WindowAttributes::fullscreen</code> and expose as field directly.</p>
</li>
<li>
<p>On X11, remove <code>platform::x11::XNotSupported</code> export.</p>
</li>
</ul>
<h4 id="fixed-5"><a class="doc-anchor" href="#fixed-5">§</a>Fixed</h4>
<ul>
<li>On Web, fix setting cursor icon overriding cursor visibility.</li>
<li>On Windows, fix cursor not confined to center of window when grabbed and hidden.</li>
<li>On macOS, fix sequence of mouse events being out of order when dragging on the trackpad.</li>
<li>On Wayland, fix decoration glitch on close with some compositors.</li>
<li>On Android, fix a regression introduced in #2748 to allow volume key events to be received again.</li>
<li>On Windows, don’t return a valid window handle outside of the GUI thread.</li>
<li>On macOS, don’t set the background color when initializing a window with transparency.</li>
</ul>
</div></details></section></div></main></body></html>