<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait used by I18nAssets to ascertain which languages are being requested."><title>LanguageRequester in i18n_embed - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="i18n_embed" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0 (1159e78c4 2025-09-14)" data-channel="1.90.0" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-68b7e25d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../i18n_embed/index.html">i18n_<wbr>embed</a><span class="version">0.16.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Language<wbr>Requester</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.add_listener" title="add_listener">add_listener</a></li><li><a href="#tymethod.add_listener_ref" title="add_listener_ref">add_listener_ref</a></li><li><a href="#tymethod.available_languages" title="available_languages">available_languages</a></li><li><a href="#tymethod.current_languages" title="current_languages">current_languages</a></li><li><a href="#tymethod.poll" title="poll">poll</a></li><li><a href="#tymethod.requested_languages" title="requested_languages">requested_languages</a></li><li><a href="#tymethod.set_language_override" title="set_language_override">set_language_override</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate i18n_<wbr>embed</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">i18n_embed</a></div><h1>Trait <span class="trait">LanguageRequester</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/i18n_embed/requester.rs.html#6-54">Source</a> </span></div><pre class="rust item-decl"><code>pub trait LanguageRequester&lt;'a&gt; {
    // Required methods
    fn <a href="#tymethod.add_listener" class="fn">add_listener</a>(&amp;mut self, listener: <a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/sync/struct.Weak.html" title="struct alloc::sync::Weak">Weak</a>&lt;dyn <a class="trait" href="trait.Localizer.html" title="trait i18n_embed::Localizer">Localizer</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.add_listener_ref" class="fn">add_listener_ref</a>(&amp;mut self, listener: &amp;'a dyn <a class="trait" href="trait.Localizer.html" title="trait i18n_embed::Localizer">Localizer</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.poll" class="fn">poll</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.I18nEmbedError.html" title="enum i18n_embed::I18nEmbedError">I18nEmbedError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.set_language_override" class="fn">set_language_override</a>(
        &amp;mut self,
        language_override: <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.I18nEmbedError.html" title="enum i18n_embed::I18nEmbedError">I18nEmbedError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.requested_languages" class="fn">requested_languages</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.available_languages" class="fn">available_languages</a>(
        &amp;self,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;, <a class="enum" href="enum.I18nEmbedError.html" title="enum i18n_embed::I18nEmbedError">I18nEmbedError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.current_languages" class="fn">current_languages</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait used by <a href="trait.I18nAssets.html" title="trait i18n_embed::I18nAssets">I18nAssets</a> to ascertain which
languages are being requested.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.add_listener" class="method"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#18">Source</a><h4 class="code-header">fn <a href="#tymethod.add_listener" class="fn">add_listener</a>(&amp;mut self, listener: <a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/sync/struct.Weak.html" title="struct alloc::sync::Weak">Weak</a>&lt;dyn <a class="trait" href="trait.Localizer.html" title="trait i18n_embed::Localizer">Localizer</a>&gt;)</h4></section></summary><div class="docblock"><p>Add a listener to this <code>LanguageRequester</code>. When the system
reports that the currently requested languages has changed,
each listener will have its
<a href="trait.Localizer.html#select()" title="trait i18n_embed::Localizer">Localizer#select()</a> method called. <a href="https://doc.rust-lang.org/1.90.0/alloc/sync/struct.Weak.html" title="struct alloc::sync::Weak">Weak</a>
is used so that when the <a href="https://doc.rust-lang.org/1.90.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a> that it references
is dropped, the listener will also be removed next time this
requester is polled/updates.</p>
<p>If you haven’t already selected a language for the localizer
you are adding here, you may want to manually call
<a href="#poll()">#poll()</a> after adding the listener/s.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.add_listener_ref" class="method"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#29">Source</a><h4 class="code-header">fn <a href="#tymethod.add_listener_ref" class="fn">add_listener_ref</a>(&amp;mut self, listener: &amp;'a dyn <a class="trait" href="trait.Localizer.html" title="trait i18n_embed::Localizer">Localizer</a>)</h4></section></summary><div class="docblock"><p>Add a listener to this <code>LanguageRequester</code>. When the system
reports that the currently requested languages has changed,
each listener will have its
<a href="trait.Localizer.html#select()" title="trait i18n_embed::Localizer">Localizer#select()</a> method called. As
opposed to <a href="trait.LanguageRequester.html#tymethod.add_listener" title="method i18n_embed::LanguageRequester::add_listener">LanguageRequester::add_listener()</a>, this listener
will not be removed.</p>
<p>If you haven’t already selected a language for the localizer
you are adding here, you may want to manually call
<a href="#poll()">#poll()</a> after adding the listener/s.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.poll" class="method"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#39">Source</a><h4 class="code-header">fn <a href="#tymethod.poll" class="fn">poll</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.I18nEmbedError.html" title="enum i18n_embed::I18nEmbedError">I18nEmbedError</a>&gt;</h4></section></summary><div class="docblock"><p>Poll the system’s currently selected language, and call
<a href="trait.Localizer.html#select()" title="trait i18n_embed::Localizer">Localizer#select()</a> on each of the
listeners.</p>
<p><strong>NOTE:</strong> Support for this across systems currently
varies, it may not change when the system requested language
changes during runtime without restarting your application. In
the future some platforms may also gain support for automatic
triggering when the requested display language changes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.set_language_override" class="method"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#42-45">Source</a><h4 class="code-header">fn <a href="#tymethod.set_language_override" class="fn">set_language_override</a>(
    &amp;mut self,
    language_override: <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.90.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.I18nEmbedError.html" title="enum i18n_embed::I18nEmbedError">I18nEmbedError</a>&gt;</h4></section></summary><div class="docblock"><p>Override the languages fed to the <a href="trait.Localizer.html" title="trait i18n_embed::Localizer">Localizer</a> listeners during
a <a href="#poll()">#poll()</a>. Set this as <code>None</code> to disable the override.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.requested_languages" class="method"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#47">Source</a><h4 class="code-header">fn <a href="#tymethod.requested_languages" class="fn">requested_languages</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;</h4></section></summary><div class="docblock"><p>The currently requested languages.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.available_languages" class="method"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#50">Source</a><h4 class="code-header">fn <a href="#tymethod.available_languages" class="fn">available_languages</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.90.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;, <a class="enum" href="enum.I18nEmbedError.html" title="enum i18n_embed::I18nEmbedError">I18nEmbedError</a>&gt;</h4></section></summary><div class="docblock"><p>The languages reported to be available in the
listener <a href="trait.Localizer.html" title="trait i18n_embed::Localizer">Localizer</a>s.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.current_languages" class="method"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#53">Source</a><h4 class="code-header">fn <a href="#tymethod.current_languages" class="fn">current_languages</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.90.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.90.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="../unic_langid_impl/struct.LanguageIdentifier.html" title="struct unic_langid_impl::LanguageIdentifier">LanguageIdentifier</a>&gt;</h4></section></summary><div class="docblock"><p>The languages currently loaded, keyed by the
<a href="trait.LanguageLoader.html#tymethod.domain" title="method i18n_embed::LanguageLoader::domain">LanguageLoader::domain()</a>.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-LanguageRequester%3C'a%3E-for-DesktopLanguageRequester%3C'a%3E" class="impl"><a class="src rightside" href="../src/i18n_embed/requester.rs.html#236-267">Source</a><a href="#impl-LanguageRequester%3C'a%3E-for-DesktopLanguageRequester%3C'a%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="trait.LanguageRequester.html" title="trait i18n_embed::LanguageRequester">LanguageRequester</a>&lt;'a&gt; for <a class="struct" href="struct.DesktopLanguageRequester.html" title="struct i18n_embed::DesktopLanguageRequester">DesktopLanguageRequester</a>&lt;'a&gt;</h3></section></div><script src="../trait.impl/i18n_embed/requester/trait.LanguageRequester.js" async></script></section></div></main></body></html>